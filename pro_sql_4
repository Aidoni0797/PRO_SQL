pro_sql_4
Нормализация

Нормализация баз данных - это процесс организации данных в БД, чтобы минимизировать избыточность данных и избежать аномалий при обновлении, вставке или удалении.

Избыточность данных означает наличие дублирующей информации в базе данных. Это может привести к неэффективному использованию хранилища и возникновению аномалий при изменении данных.
Например, если одна и та же информация хранится в нескольких местах, т опри обновлении этой информации необходимо будет обновиьт её во всех местах, что может привести к ошибкам и
несоответствиям.

Аномалии в контексте баз данных - это нежелательные или непредвиденные результаты, которые могут возникнуть при неправильном проектировании структуры базы данных.

Цель нормализации - разделить данные на более мелкие и связанные части, чтобы минимизировать избыточность данных и избежать противоречий при обновлении, вставке или удалении 
данных.

Существует 5 основных нормальных форм:
1. Первая нормальная форма (1NF);
2. Вторая нормальная форма (2NF);
3. Третья нормальная форма (3NF);
4. Нормальная форма Бойса-Кодда (BCNF);
5. Четвертая нормальная форма (4NF).

Каждая следующая нормальная форма содержит в себе более строгие правила и требует, чтобы эта БД уже находилась в предыдущей нормальной форме.

База данных считается нормализованной, если она находится как минимум в третьей нормальной форме.

Рассмотрим нормализацию на примере. Исходная таблица (для упрощения будем называть все поля на русском) выглядит следующим образом:
Пользователь - Курс1 - Балл1 - Курс2 - Балл2
Фисенко Кирилл - PRO C#.LINQ - 23 - PRO Логические задачи - 35
Дзеранов Иосиф - PRO C#.Git - 3 - Введение в Linux - 11

Первая нормальная форма (1NF).

На данном этапе необходимо:
- Определить первичный ключ;
- Устранить повторяющиеся группы данных;
- Устранить составные поля

Добавим первичный ключ к нашим строкам в таблице (id). Для простоты это будут числа по порядку начиная с 1.

В нашей таблице присутствует несколько столбцов, имеющих одинаковый смысл (Курс1, Курс2, Балл1, Балл2). Выделим их в отдельные строчки

Далее разделим составное поле Пользователь на два поля (Имя и Фамилия).

Приведем наименования всех полей в порядок. В результате получим таблицу, соответствующую первой нормальной форме. Порядок строк в таблице не имеет значение, для удобства 
отсортируем значения по возрастанию id:

Вторая нормальная форма (2NF)

На данном этапе необходимо:
- Проверить соответствие первой нормальной форме;
-  Если неключевые поля зависят от части первичного ключа, разделить таблицу на две.

В нашем примере получается, что поле Балл зависит от пользователя и курса. Также неполную зависимость образуют поля Имя и Фамилия,
поэтому их нужно вынести в отдельную таблицу:

После этих преобразований, мы получили две таблицы из одной, каждая из которых находится во второй нормальной форме.

Третья нормальная форма (3NF)

На данном этапе необходимо:
- Проверить соответствие второй нормальной форме;
- Проверить наличие транзитивных зависимостей между неключевыми полями (каждое неключвое поле должно зависеть только от первичного ключа);
- Если неключевые поля зависят от других неключевых полей, разделить таблицу на две.

Транзитивность означает, что если атрибут А определяет атрибут В, а атрибут В определяет атрибут С, то атрибут А акже определяет атрибут С. 
Формально это можно записать как: если А-В и В-С, то А-С.

Например, если значение атрибута Страна определяет значение атрибута Город, а значение атрибута Город определяет значение атрибута Улица, то значение
атрибута Страна также определяет значение атрибута Улица.

В данном случае, необходимо разделитьб текущие полу Курс и Балл на отдельные таблицы, так как они не зависят друг от друга, а зависят только от
первичного ключа:

Теперь мы имеем три таблицы, кжадая из которых находится в третьей нормальной форме.

Итог

Таким образом, нормализация ведет нас к разделению таблицы на несколько более мелньких таблиц (декомпозиция).

При приведении базы данных к третьей нормальной форме, необходимо учитывать компромисс между эффективностью хранения данных и производительностью
запросов к базе данных. Усложнение структуры азы данных за счет увеличения количества маленьких таблиц (декомпозиция) и создания дополнительных
связей, может привести к увеличению числа соедизений при выполнении запросов, что в свою очередь может негативно сказаться на 
производительности. Поэтому при проектировании базы данных следует учитывать не только требования к нормализации данных, но также и основные
запросы, которые будут выполняться к базе данных, чтобы достичь оптимального баланса между нормализацией и производительностью.

Мы рассмотрели минимально необходимые нормалные формы. Есть и более высокие нормальные формы, такие как формы Бойса Кодда (BCNF), четвертая и 
пятая нормальные формы (4NF and 5NF) и т.д., которые также фокусируются на минимизации избыточности данных и предотвращении аномалии таблиц.
Следование нормальным формам способствует структурированию данных для эффективного хранения и обработки в базе данных.

Нормализация БД - не самая простая и важная тема для начинающего, поэтому не нужно глубоко заострять на этом внимание сейчас.


